<!DOCTYPE HTML>
<html>
    <head lang="en" xmlns="http://www.w3.org/1999/xhtml">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <script src="http://code.jquery.com/jquery-2.1.0.js"></script>
        <title>
            Micomo
        </title>
    </head>
    <body>
        <div>
            <p>
                活动倒计时<strong id="endtime"></strong>秒！
            </p>
            <input type="button" id="btn" value="立即购买" disabled="disabled" onClick="func()"/>
        </div>
        <script src="/js/jquery-2.1.1.min.js"></script>
        <script type="text/javascript">
            //倒计时30秒
            var i = 10;
            function remainTime() {
                if (i > 0) {
                    document.getElementById("endtime").innerHTML = i--;
                    setTimeout("remainTime()", 1000);

                }
                if (i == 0) {
                    $("p").text("活动开始");
                    $("p").css("background-color", "yellow");
                    //倒计时结束，按钮状态改为可用
                    document.getElementById("btn").disabled = false;
                }

            }
            remainTime();

            //点击按钮触发的方法
            function func() {
                alert("恭喜你抢到一个月饼");
            }
        </script>
        <script type="text/javascript">
		    var button = document.getElementById("btn");
		    //每秒执行一次，若按钮状态为可用，进行点击
		    setInterval(function() {
		        if (button.disabled == false) {
		            button.click();
		
		        }
		    },
		    500);
		</script>
    </body>

</html>